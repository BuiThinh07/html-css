<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="./assets/css/header.css">
    <link rel="stylesheet" href="./assets/font/css/all.min.css">
    <link rel="stylesheet" href="./assets/css/login.css">
    <link rel="stylesheet" href="./assets/css/grid.css">
    <link rel="stylesheet" href="./assets/css/detailItem.css">
    <link rel="stylesheet" href="./assets/css/footer.css">
    <link rel="stylesheet" href="./assets/css/base.css">
    <link rel="stylesheet" href="./assets/css/chi-tiet-cart.css">
    <title>Document</title>
    <script src="./assets/js/header.js"></script>
    <script src="./assets/js/footer.js"></script>
    <script src="./assets/js/form.js"></script>
    <script src="./assets/js/sanPham.js"></script>
    <script src="./assets/js/gioHang.js"></script>
    <script src="./assets/js/chi-tiet-san-pham.js"></script>
</head>

<body>
    <!-- Hearder -->
    <header class="header">
    </header>

    <!-- Hiển thị từng chi tiết sản phẩm tại chi tiết giỏ hàng-->
    <div class="chi-tiet-cart">
        <p class="cart-title">CHI TIẾT GIỎ HÀNG</p>
        <div class="gio-hang" id="gio-hang">
        </div>
        <div class="tong-cart">
            <p>Tổng tiền: 1.000.000 đ</p>
        </div>
        <button class="btn thanh-toan">Thanh toán</button>
    </div>


    <!-- footer -->
    <footer class="footer">
    </footer>

    <!-- Form đăng nhập và đăng kí -->
    <div class="modal">
        <div class="modal__overlay"></div>
        <div class="modal__body">
        </div>
    </div>

    <!-- Khung thanh toán -->
    <div class="modal1 close"></div>

    <!-- render header -->
    <script>
        const nodeHeader = document.querySelector('.header');
        nodeHeader.innerHTML = renderHeader();
    </script>

    <!-- render login -->
    <script>
        const nodeLogin = document.querySelector('.modal__body');
        nodeLogin.innerHTML = renderLogin();
    </script>

    <!-- render footer -->
    <script>
        const nodeFooter = document.querySelector('footer.footer');
        nodeFooter.innerHTML = renderFooter();
    </script>

    <!-- Hiển thị danh sách chi tiết giỏ hàng -->
    <script>
        hienThiDanhSachItemGioHang();
    </script>

    <!-- Viết thêm vào icon giỏ hàng -->
    <script>
        hienThiTrongIconGioHang();
    </script>

    <!-- script viết cho form đăng nhập và đăng kí -->
    <script>

        document.addEventListener('DOMContentLoaded', function () {
            // Mong muốn của chúng ta
            Validator({
                form: '#form-1',
                formGroupSelector: '.form-group',
                errorSelector: '.form-message',
                rules: [
                    Validator.isRequired('#fullname', 'Vui lòng nhập tên đầy đủ của bạn'),
                    Validator.isEmail('#email'),
                    Validator.minLength('#password', 6),
                    Validator.isRequired('#password_confirmation'),
                    Validator.isConfirmed('#password_confirmation', function () {
                        return document.querySelector('#form-1 #password').value;
                    }, 'Mật khẩu nhập lại không chính xác')
                ],
                onSubmit: function (data) {
                    // Call API
                }
            });


            Validator({
                form: '#form-2',
                formGroupSelector: '.form-group',
                errorSelector: '.form-message',
                rules: [
                    Validator.isEmail('#email'),
                    Validator.minLength('#password', 6),
                ],
                onSubmit: function (data) {
                    // Call API
                }
            });
        });

    </script>

    <!-- Script hiển thị bảng thanh toán -->
    <script>
        
        function hienThiBangThanhToan() {
            const nodeModal = document.querySelector('.modal1');
            const nodeThanhToan = document.querySelector('.btn.thanh-toan');

            var htmlKhungThanhToanGioHang = hienThiKhungThanhToanGioHang();
            nodeModal.innerHTML = htmlKhungThanhToanGioHang;
            nodeModal.classList.add('open');
            nodeModal.classList.remove('close');
            const nodeClose = document.querySelector('.modal-container__close');
            nodeClose.addEventListener('click', () => {
                nodeModal.classList.add('close');
                nodeModal.classList.remove('open');
            })
        }
        
    </script>

    <!-- Chi tiết sản phẩm-->
    <script>
        function onClickChiTietSanPham(idSanPham) {
            localStorage.setItem("idChiTietSanPham", JSON.stringify(idSanPham));
            return id;
        }
    </script>

    <script src="./assets/js/main.js"></script>
</body>

</html>